{{ 'amz.css' | asset_url | stylesheet_tag }}
<style>
  .hero-container--{{ section.id }}{position:relative; z-index:0;}
  /* Keep gradient on hero but ensure panels can layer above */
  .hero-container--{{ section.id }}::after{content:'';position:absolute;left:0;right:0;bottom:0;height:160px;pointer-events:none;background:linear-gradient(to bottom, rgba(0,0,0,0), var(--amazon-page)); z-index:0;}
  @media (max-width: 750px){.hero-container--{{ section.id }}::after{height:120px}}
  /* Section-specific focus for cropping */
  .hero-container--{{ section.id }} .amz-hero{ --amz-hero-focus-y: {{ section.settings.focus_y | default: 30 }}%; }
</style>
<div class="hero-container--{{ section.id }}">
<section class="amz amz-hero" style="margin:0 0 var(--amz-section-v-d)">
  {% if section.settings.image != blank %}
    <link rel="preload" as="image" href="{{ section.settings.image | image_url: width: 2000 }}">
    {{ section.settings.image | image_url: width: 2400 | image_tag: class: '', loading: 'eager', widths: '800,1200,1600,2000', fetchpriority: 'high' }}
  {% else %}
    <img src="https://placehold.co/1200x500/F0A800/FFFFFF?text=Main+Hero+Banner" alt="Hero">
  {% endif %}
  <div class="overlay">
    {% if section.settings.show_copy %}
      <h1 style="font-weight:700; font-size:clamp(20px,3vw,32px)">{{ section.settings.heading }}</h1>
      {% if section.settings.subcopy != blank %}<p style="margin-top:8px;color:#374151">{{ section.settings.subcopy }}</p>{% endif %}
    {% endif %}
    {% assign cta_text = section.settings.cta_text | default: 'Shop Pickleball Sets Now' %}
    {% assign cta_link = section.settings.cta_link | default: routes.collections_url %}
    <a class="cta" href="{{ cta_link }}" aria-label="{{ cta_text }}">{{ cta_text }}</a>
    {% if section.settings.rules_link != blank and section.settings.rules_label != blank %}
      <p style="margin-top:8px"><a href="{{ section.settings.rules_link }}" style="color:#2563eb; text-decoration:underline; text-underline-offset:2px">{{ section.settings.rules_label }}</a></p>
    {% endif %}
  </div>
</section>
</div>

{% schema %}
{
  "name": "Hero (Amazon style)",
  "settings": [
    { "type":"image_picker", "id":"image", "label":"Hero image" },
    { "type":"checkbox", "id":"show_copy", "label":"Show heading + subcopy", "default": false },
    { "type":"text", "id":"heading", "label":"Heading", "default":"New Arrivals Are Here!" },
    { "type":"text", "id":"subcopy", "label":"Subcopy", "default":"Enter to win. See details." },
    { "type":"text", "id":"cta_text", "label":"CTA text", "default":"Shop Pickleball Sets Now" },
    { "type":"url", "id":"cta_link", "label":"CTA link" },
    { "type":"range", "id":"focus_y", "label":"Image vertical focus (%)", "min": 0, "max": 100, "step": 1, "default": 30 },
    { "type":"text", "id":"rules_label", "label":"Rules link label", "default":"Details" },
    { "type":"url", "id":"rules_link", "label":"Rules link URL" }
  ],
  "presets": [{ "name":"Hero (Amazon style)" }]
}
{% endschema %}
